## 功能与特性
方便对于**单张**图片的DanBooru标签精修。

- 暗色Monokai界面
- 实用快捷键
- 快捷拷贝列表缓存用过的标签
- 基本的过滤功能
- 撤销重做
- 保存时是否排序

![](./imgs/display.png)

## 安装与启动

### Step1：安装pyqt5

```
pip install pyqt5
```

### Step2
运行**start.bat**，或者
```
python GUI.py
```

## 功能介绍

### 图片列表(imageList)

- Ctrl + S：保存
- Alt + S：显示/隐藏预览图
- Alt + Up（鼠标上滚轮）：选择上一张图片
- Alt + Down（鼠标下滚轮）：选择下一张图片
- Enter：进入标签表格

### 标签列表(tagTable)

- Ctrl + C：复制
- Ctrl + V：剪贴板的内容覆盖选中内容
  - 若选中第一列：覆盖英文标签
  - 若选中第二列：覆盖翻译内容
- Shift + V：添加剪贴板中的内容到表格
- Del：删除选中行（可多选）
- Ctrl + Z：撤销
- Ctrl + Y：重做
- Enter：进入编辑模式
- Esc：返回图片列表

> 更改翻译内容会自动保存翻译文件

### 拷贝列表(copyList)
拷贝列表会记录在标签列表中**增加**或者**修改**的标签。

- 左键：将该行内容添加到标签列表中
- 右键：删除当前内容

### 过滤器(Filter)
过滤器可以同时过滤标签和图像

- Left：切换到标签过滤
- Right：切换到图片过滤
- Enter：添加行
- Del：删除行
- Ctrl + Enter：应用过滤器

## 其他说明

### 文件格式
- 文件夹中的图片必须是 **.jpg** 或者 **.png** 格式的。
- 每一张图片对应一个同名的 **.txt** 标签文档，文档内标签用逗号分隔。

### 快捷键改写
主窗口的快捷键集中在 interactive_events
过滤器的快捷键集中在 tagfilter

## TODO
添加工作流，让标签的添加更加方便。在编辑模式，里可以定义多个类别，定义完毕后在工作模式中可以便捷地添加标签。比如：
- 视角（第一页）
  - 正面
  - 侧面
  - 背面
- 动作（第二页）
  - 躺
  - 站
  - 蹲
- 头部（第三页）
  - 发夹
  - 发饰
  - 双马尾
- 上半身（第四页）
  - 短裙
  - T恤
- 其他部位...

该功能的设计主要考虑下面几个原因：
- 在打标器打标的基础上，人体每一个部位错误的或者需要添加标签的数目较少。
- 用户进行添加标签时，往往会有自己的标签文档，该功能可以减少用户在标签文档和打标器间来回切换。

![](imgs/todo_workingflow.png)
